{"ast":null,"code":"var _jsxFileName = \"/Users/a111/Desktop/\\u1106\\u116E\\u110C\\u1166 \\u1111\\u1169\\u11AF\\u1103\\u1165 2/Magazine/src/pages/Notification.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Grid, Text, Image } from \"../elements\";\nimport Card from \"../components/Card\";\nimport { realtime } from \"../shared/firebase\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Notification = props => {\n  _s();\n\n  const user = useSelector(state => state.user.user);\n  const [noti, setNoti] = React.useState([]);\n  React.useEffect(() => {\n    if (!user) {\n      return;\n    }\n\n    const notiDB = realtime.ref(`noti/${user.uid}/list`);\n\n    const _noti = notiDB.orderByChild(\"insert_dt\");\n\n    _noti.once(\"value\", snapshot => {\n      if (snapshot.exists()) {\n        let _data = snapshot.val();\n\n        let _noti_list = Object.keys(_data).reverse().map(s => {\n          return _data[s];\n        });\n\n        console.log(_noti_list);\n        setNoti(_noti_list);\n      }\n    });\n  }, [user]);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      padding: \"16px\",\n      bg: \"#EFF6FF\",\n      children: noti.map((n, idx) => {\n        return /*#__PURE__*/_jsxDEV(Card, { ...n\n        }, `noti_${idx}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 18\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Notification, \"asXmMMSrj15/oOqIdjQWTJgh71k=\", false, function () {\n  return [useSelector];\n});\n\n_c = Notification;\nexport default Notification;\n\nvar _c;\n\n$RefreshReg$(_c, \"Notification\");","map":{"version":3,"sources":["/Users/a111/Desktop/무제 폴더 2/Magazine/src/pages/Notification.js"],"names":["React","Grid","Text","Image","Card","realtime","useSelector","Notification","props","user","state","noti","setNoti","useState","useEffect","notiDB","ref","uid","_noti","orderByChild","once","snapshot","exists","_data","val","_noti_list","Object","keys","reverse","map","s","console","log","n","idx"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,KAArB,QAAkC,aAAlC;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AAEA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,WAAT,QAA4B,aAA5B;;;AAEA,MAAMC,YAAY,GAAIC,KAAD,IAAW;AAAA;;AAC9B,QAAMC,IAAI,GAAGH,WAAW,CAACI,KAAK,IAAIA,KAAK,CAACD,IAAN,CAAWA,IAArB,CAAxB;AACA,QAAM,CAACE,IAAD,EAAOC,OAAP,IAAkBZ,KAAK,CAACa,QAAN,CAAe,EAAf,CAAxB;AAEAb,EAAAA,KAAK,CAACc,SAAN,CAAgB,MAAM;AACpB,QAAG,CAACL,IAAJ,EAAS;AACP;AACD;;AAED,UAAMM,MAAM,GAAGV,QAAQ,CAACW,GAAT,CAAc,QAAOP,IAAI,CAACQ,GAAI,OAA9B,CAAf;;AAEA,UAAMC,KAAK,GAAGH,MAAM,CAACI,YAAP,CAAoB,WAApB,CAAd;;AAEAD,IAAAA,KAAK,CAACE,IAAN,CAAW,OAAX,EAAoBC,QAAQ,IAAI;AAC9B,UAAGA,QAAQ,CAACC,MAAT,EAAH,EAAqB;AACnB,YAAIC,KAAK,GAAGF,QAAQ,CAACG,GAAT,EAAZ;;AAEA,YAAIC,UAAU,GAAGC,MAAM,CAACC,IAAP,CAAYJ,KAAZ,EAAmBK,OAAnB,GAA6BC,GAA7B,CAAiCC,CAAC,IAAI;AACrD,iBAAOP,KAAK,CAACO,CAAD,CAAZ;AACD,SAFgB,CAAjB;;AAIAC,QAAAA,OAAO,CAACC,GAAR,CAAYP,UAAZ;AACAb,QAAAA,OAAO,CAACa,UAAD,CAAP;AACD;AACF,KAXD;AAcD,GAvBD,EAuBG,CAAChB,IAAD,CAvBH;AAyBA,sBACE,QAAC,KAAD,CAAO,QAAP;AAAA,2BACE,QAAC,IAAD;AAAM,MAAA,OAAO,EAAC,MAAd;AAAqB,MAAA,EAAE,EAAC,SAAxB;AAAA,gBACGE,IAAI,CAACkB,GAAL,CAAS,CAACI,CAAD,EAAIC,GAAJ,KAAY;AACpB,4BAAO,QAAC,IAAD,OAA8BD;AAA9B,WAAY,QAAOC,GAAI,EAAvB;AAAA;AAAA;AAAA;AAAA,gBAAP;AACD,OAFA;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AASD,CAtCD;;GAAM3B,Y;UACSD,W;;;KADTC,Y;AAwCN,eAAeA,YAAf","sourcesContent":["import React from \"react\";\nimport { Grid, Text, Image } from \"../elements\";\nimport Card from \"../components/Card\";\n\nimport { realtime } from \"../shared/firebase\";\nimport { useSelector } from \"react-redux\";\n\nconst Notification = (props) => {\n  const user = useSelector(state => state.user.user);\n  const [noti, setNoti] = React.useState([]);\n  \n  React.useEffect(() => {\n    if(!user){\n      return;\n    }\n\n    const notiDB = realtime.ref(`noti/${user.uid}/list`);\n\n    const _noti = notiDB.orderByChild(\"insert_dt\");\n\n    _noti.once(\"value\", snapshot => {\n      if(snapshot.exists()){\n        let _data = snapshot.val();\n\n        let _noti_list = Object.keys(_data).reverse().map(s => {\n          return _data[s];\n        })\n\n        console.log(_noti_list);\n        setNoti(_noti_list);\n      }\n    })\n\n\n  }, [user]);\n  \n  return (\n    <React.Fragment>\n      <Grid padding=\"16px\" bg=\"#EFF6FF\">\n        {noti.map((n, idx) => {\n          return <Card key={`noti_${idx}`} {...n} />;\n        })}\n      </Grid>\n    </React.Fragment>\n  );\n};\n\nexport default Notification;\n"]},"metadata":{},"sourceType":"module"}