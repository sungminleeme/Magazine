(this["webpackJsonpimage-community"]=this["webpackJsonpimage-community"]||[]).push([[0],{72:function(e,t,n){},73:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var i=n(2),r=n.n(i),a=n(34),c=n.n(a),o=(n(72),n(73),n(42)),s=n(45),u=n(40),l=n(55),d=n(26),b=n(9),f=n(109),j=n(108),p=n(15),g=n(24),h=(n(74),n(91),n(92),n(76),{apiKey:"AIzaSyDTCY7Rv30bRBBt7dPpe9dL6Pw_ctoxUqU",authDomain:"homework-2afd9.firebaseapp.com",projectId:"homework-2afd9",storageBucket:"homework-2afd9.appspot.com",messagingSenderId:"434487965992",appId:"1:434487965992:web:e6e866cc9ab5bf3d52781d",measurementId:"G-MWBN93T1LT"});g.a.initializeApp(h);var x,m,O,_,C,v=h.apiKey,E=g.a.auth(),y=g.a.firestore(),w=g.a.storage(),k=g.a.database(),A="LOG_OUT",z="GET_USER",T="SET_USER",F=Object(f.a)(A,(function(e){return{user:e}})),S=(Object(f.a)(z,(function(e){return{user:e}})),Object(f.a)(T,(function(e){return{user:e}}))),L=Object(j.a)((x={},Object(b.a)(x,T,(function(e,t){return Object(p.b)(e,(function(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),document.cookie="".concat(e,"=").concat(t,"; expires=").concat(i.toUTCString())}("is_login","success"),e.user=t.payload.user,e.is_login=!0}))})),Object(b.a)(x,A,(function(e,t){return Object(p.b)(e,(function(e){!function(e){var t=new Date("2020-01-01").toUTCString();console.log(t),document.cookie=e+"=; expires="+t}("is_login"),e.user=null,e.is_login=!1}))})),Object(b.a)(x,z,(function(e,t){return Object(p.b)(e,(function(e){}))})),x),{user:null,is_login:!1}),P=function(e,t,n){return function(i,r,a){var c=a.history;E.createUserWithEmailAndPassword(e,t).then((function(t){console.log(t),E.currentUser.updateProfile({displayName:n}).then((function(){i(S({user_name:n,id:e,user_profile:"",uid:t.user.uid})),c.push("/")})).catch((function(e){console.log(e)}))})).catch((function(e){var t=e.code,n=e.message;console.log(t,n)}))}},N=function(e,t){return function(n,i,r){var a=r.history;E.setPersistence(g.a.auth.Auth.Persistence.SESSION).then((function(i){E.signInWithEmailAndPassword(e,t).then((function(t){console.log(t),n(S({user_name:t.user.displayName,id:e,user_profile:"",uid:t.user.uid})),a.push("/")})).catch((function(e){var t=e.code,n=e.message;console.log(t,n)}))}))}},I=function(){return function(e,t,n){n.history;E.onAuthStateChanged((function(t){e(t?S({user_name:t.displayName,user_profile:"",id:t.email,uid:t.uid}):F())}))}},B=function(){return function(e,t,n){var i=n.history;E.signOut().then((function(){e(F()),i.replace("/")}))}},D=n(46),U=n(5),V=n(29),X=n.n(V),G="UPLOADING",K="UPLOAD_IMAGE",M="SET_PREVIEW",q=Object(f.a)(G,(function(e){return{uploading:e}})),Y=Object(f.a)(K,(function(e){return{image_url:e}})),R=Object(f.a)(M,(function(e){return{preview:e}})),H=Object(j.a)((m={},Object(b.a)(m,K,(function(e,t){return Object(p.a)(e,(function(e){e.image_url=t.payload.image_url,e.uploading=!1}))})),Object(b.a)(m,G,(function(e,t){return Object(p.a)(e,(function(e){e.uploading=t.payload.uploading}))})),Object(b.a)(m,M,(function(e,t){return Object(p.a)(e,(function(e){e.preview=t.payload.preview}))})),m),{image_url:"",uploading:!1,preview:null}),W={uploadImage:Y,uploadImageFB:function(e){return function(t,n,i){i.history;t(q(!0)),w.ref("images/".concat(e.name)).put(e).then((function(e){console.log(e),e.ref.getDownloadURL().then((function(e){t(Y(e)),console.log(e)}))}))}},setPreview:R},J="SET_POST",Z="ADD_POST",Q="EDIT_POST",$="LOADING",ee="LIKE_TOGGLE",te=Object(f.a)(J,(function(e,t){return{post_list:e,paging:t}})),ne=Object(f.a)(Z,(function(e){return{post:e}})),ie=Object(f.a)(Q,(function(e,t){return{post_id:e,post:t}})),re=Object(f.a)($,(function(e){return{is_loading:e}})),ae=Object(f.a)(ee,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{post_id:e,is_like:t}})),ce={image_url:"https://mean0images.s3.ap-northeast-2.amazonaws.com/4.jpeg",contents:"",layout_type:"a",comment_cnt:0,insert_dt:X()().format("YYYY-MM-DD hh:mm:ss"),is_like:!1},oe=function(e,t){return function(n,i,r){r.history;if(i().user.is_login&&(!t.start||t.next)){var a=y.collection("like"),c=e.map((function(e){return e.id}));a.where("post_id","in",c).get().then((function(r){var a={};r.forEach((function(e){a[e.data().post_id]?a[e.data().post_id]=[].concat(Object(D.a)(a[e.data().post_id]),[e.data().user_id]):a[e.data().post_id]=[e.data().user_id]})),console.log(a);var c=i().user.user.uid,o=e.map((function(e){return a[e.id]&&-1!==a[e.id].indexOf(c)?Object(U.a)(Object(U.a)({},e),{},{is_like:!0}):e}));n(te(o,t))}))}}},se=Object(j.a)((O={},Object(b.a)(O,J,(function(e,t){return Object(p.b)(e,(function(e){var n;(n=e.list).push.apply(n,Object(D.a)(t.payload.post_list)),e.list=e.list.reduce((function(e,t){return-1===e.findIndex((function(e){return e.id===t.id}))?[].concat(Object(D.a)(e),[t]):(e[e.findIndex((function(e){return e.id===t.id}))]=t,e)}),[]),t.payload.paging&&(e.paging=t.payload.paging),e.is_loading=!1}))})),Object(b.a)(O,Z,(function(e,t){return Object(p.b)(e,(function(e){e.list.unshift(t.payload.post)}))})),Object(b.a)(O,Q,(function(e,t){return Object(p.b)(e,(function(e){var n=e.list.findIndex((function(e){return e.id===t.payload.post_id}));e.list[n]=Object(U.a)(Object(U.a)({},e.list[n]),t.payload.post)}))})),Object(b.a)(O,$,(function(e,t){return Object(p.b)(e,(function(e){e.is_loading=t.payload.is_loading}))})),Object(b.a)(O,ee,(function(e,t){return Object(p.b)(e,(function(e){var n=e.list.findIndex((function(e){return e.id===t.payload.post_id}));e.list[n].is_like=t.payload.is_like}))})),O),{list:[],paging:{start:null,next:null,size:3},is_loading:!1,is_like:!1}),ue={setPost:te,addPost:ne,editPost:ie,getPostFB:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return function(n,i,r){r.history;var a=i().post.paging;if(!a.start||a.next){n(re(!0));var c=y.collection("post").orderBy("insert_dt","desc");e&&(c=c.startAt(e)),c.limit(t+1).get().then((function(e){var r=[],a={start:e.docs[0],next:e.docs.length===t+1?e.docs[e.docs.length-1]:null,size:t};e.forEach((function(e){var t=e.data(),n=Object.keys(t).reduce((function(e,n){return-1!==n.indexOf("user_")?Object(U.a)(Object(U.a)({},e),{},{user_info:Object(U.a)(Object(U.a)({},e.user_info),{},Object(b.a)({},n,t[n]))}):Object(U.a)(Object(U.a)({},e),{},Object(b.a)({},n,t[n]))}),{id:e.id,user_info:{}});r.push(n)})),r.pop(),i().user.user?n(oe(r,a)):n(te(r,a))}))}}},addPostFB:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"a";return function(n,i,r){var a=r.history,c=y.collection("post"),o=i().user.user,s={user_name:o.user_name,user_id:o.uid,user_profile:o.user_profile},u=Object(U.a)(Object(U.a)({},ce),{},{contents:e,layout_type:t,insert_dt:X()().format("YYYY-MM-DD hh:mm:ss")}),l=i().image.preview;l?u?w.ref("images/".concat(s.user_id,"_").concat((new Date).getTime())).putString(l,"data_url").then((function(e){e.ref.getDownloadURL().then((function(e){return console.log(e),e})).then((function(e){c.add(Object(U.a)(Object(U.a)(Object(U.a)({},s),u),{},{image_url:e})).then((function(t){var i=Object(U.a)(Object(U.a)({user_info:s},u),{},{id:t.id,image_url:e});n(ne(i)),a.replace("/"),n(W.setPreview(null))})).catch((function(e){window.alert("\uc557! \ud3ec\uc2a4\ud2b8 \uc791\uc131\uc5d0 \ubb38\uc81c\uac00 \uc788\uc5b4\uc694!"),console.log("post \uc791\uc131\uc5d0 \uc2e4\ud328\ud588\uc5b4\uc694!",e)}))})).catch((function(e){window.alert("\uc557! \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc\uc5d0 \ubb38\uc81c\uac00 \uc788\uc5b4\uc694!"),console.log("\uc557! \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc\uc5d0 \ubb38\uc81c\uac00 \uc788\uc5b4\uc694!",e)}))})):window.alert("\ub0b4\uc6a9\uc774\ud544\uc694"):window.alert("\uc774\ubbf8\uc9c0\uac00 \ud544\uc694\ud574\uc694!")}},editPostFB:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,i,r){var a=r.history;if(e){var c=i().image.preview,o=i().post.list.findIndex((function(t){return t.id===e})),s=i().post.list[o];console.log(s);var u=y.collection("post");if(c!==s.image_url){var l=i().user.user.uid;w.ref("images/".concat(l,"_").concat((new Date).getTime())).putString(c,"data_url").then((function(i){i.ref.getDownloadURL().then((function(e){return console.log(e),e})).then((function(i){u.doc(e).update(Object(U.a)(Object(U.a)({},t),{},{image_url:i})).then((function(r){n(ie(e,Object(U.a)(Object(U.a)({},t),{},{image_url:i}))),a.replace("/")}))})).catch((function(e){window.alert("\uc557! \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc\uc5d0 \ubb38\uc81c\uac00 \uc788\uc5b4\uc694!"),console.log("\uc557! \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc\uc5d0 \ubb38\uc81c\uac00 \uc788\uc5b4\uc694!",e)}))}))}else u.doc(e).update(t).then((function(i){n(ie(e,Object(U.a)({},t))),a.replace("/")}))}else console.log("\uac8c\uc2dc\ubb3c \uc815\ubcf4\uac00 \uc5c6\uc5b4\uc694!")}},getOnePostFB:function(e){return function(t,n,i){i.history;y.collection("post").doc(e).get().then((function(e){console.log(e),console.log(e.data());var n=e.data(),i=Object.keys(n).reduce((function(e,t){return-1!==t.indexOf("user_")?Object(U.a)(Object(U.a)({},e),{},{user_info:Object(U.a)(Object(U.a)({},e.user_info),{},Object(b.a)({},t,n[t]))}):Object(U.a)(Object(U.a)({},e),{},Object(b.a)({},t,n[t]))}),{id:e.id,user_info:{}});t(te([i]))}))}},toggleLikeFB:function(e){return function(t,n,i){i.history;if(n().user.user){var r=y.collection("post"),a=y.collection("like"),c=n().post.list.findIndex((function(t){return t.id===e})),o=n().post.list[c],s=n().user.user.uid;o.is_like?a.where("post_id","==",o.id).where("user_id","==",s).get().then((function(n){var i=y.batch();n.forEach((function(e){i.delete(a.doc(e.id))})),i.update(r.doc(e),{like_cnt:o.like_cnt-1<1?o.like_cnt:o.like_cnt-1}),i.commit().then((function(){t(ae(e,!o.is_like))}))})).catch((function(e){console.log(e)})):a.add({post_id:e,user_id:s}).then((function(n){r.doc(e).update({like_cnt:o.like_cnt+1}).then((function(n){t(ae(e,!o.is_like))}))}))}}}},le="SET_COMMENT",de="ADD_COMMENT",be="LOADING",fe=Object(f.a)(le,(function(e,t){return{post_id:e,comment_list:t}})),je=Object(f.a)(de,(function(e,t){return{post_id:e,comment:t}})),pe=(Object(f.a)(be,(function(e){return{is_loading:e}})),Object(j.a)((_={},Object(b.a)(_,le,(function(e,t){return Object(p.b)(e,(function(e){e.list[t.payload.post_id]=t.payload.comment_list}))})),Object(b.a)(_,de,(function(e,t){return Object(p.b)(e,(function(e){e.list[t.payload.post_id].unshift(t.payload.comment)}))})),Object(b.a)(_,be,(function(e,t){return Object(p.b)(e,(function(e){e.is_loading=t.payload.is_loading}))})),_),{list:{},is_loading:!1})),ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t,n,i){i.history;e&&y.collection("comment").where("post_id","==",e).orderBy("insert_dt","desc").get().then((function(n){var i=[];n.forEach((function(e){i.push(Object(U.a)(Object(U.a)({},e.data()),{},{id:e.id}))})),t(fe(e,i))})).catch((function(e){console.log("\ub313\uae00 \uc815\ubcf4\ub97c \uac00\uc838\uc62c \uc218\uac00 \uc5c6\ub124\uc694!",e)}))}},he=function(e,t){return function(n,i,r){r.history;var a=y.collection("comment"),c=i().user.user,o={post_id:e,user_id:c.uid,user_name:c.user_name,user_profile:c.user_profile,contents:t,insert_dt:X()().format("YYYY-MM-DD hh:mm:ss")};a.add(o).then((function(t){var r=y.collection("post"),a=i().post.list.find((function(t){return t.id===e})),c=g.a.firestore.FieldValue.increment(1);o=Object(U.a)(Object(U.a)({},o),{},{id:t.id}),r.doc(e).update({comment_cnt:c}).then((function(t){(n(je(e,o)),a)&&(n(ue.editPost(e,{comment_cnt:parseInt(a.comment_cnt)+1})),k.ref("noti/".concat(a.user_info.user_id,"/list")).push().set({post_id:a.id,user_name:o.user_name,image_url:a.image_url,insert_dt:o.insert_dt},(function(e){e?console.log("\uc54c\ub9bc \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc5b4\uc694! "):k.ref("noti/".concat(a.user_info.user_id)).update({read:!1})})))}))}))}},xe=Object(d.a)(),me=Object(u.b)({user:L,post:se,image:H,comment:pe,router:Object(s.b)(xe)}),Oe=[l.a.withExtraArgument({history:xe})],_e=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):u.c)(u.a.apply(void 0,Oe)),Ce=Object(u.d)(me,_e),ve=n(7),Ee=n(10),ye=n(11),we=n(3),ke=function(e){var t=e.is_flex,n=e.width,i=e.margin,a=e.padding,c=e.bg,o=e.children,s=e.center,u=e._onClick,l={is_flex:t,width:n,margin:i,padding:a,bg:c,center:s};return Object(we.jsx)(r.a.Fragment,{children:Object(we.jsx)(Se,Object(U.a)(Object(U.a)({},l),{},{onClick:u,children:o}))})};ke.defaultProps={chidren:null,is_flex:!1,width:"100%",padding:!1,margin:!1,bg:!1,center:!1,_onClick:function(){}};var Ae,ze,Te,Fe,Se=ye.a.div(C||(C=Object(Ee.a)(["\n  width: ",";\n  height: 100%;\n  box-sizing: border-box;\n  ","\n  ","\n  ","\n  ","\n  ","\n"])),(function(e){return e.width}),(function(e){return e.padding?"padding: ".concat(e.padding,";"):""}),(function(e){return e.margin?"margin: ".concat(e.margin,";"):""}),(function(e){return e.bg?"background-color: ".concat(e.bg,";"):""}),(function(e){return e.is_flex?"display: flex; align-items: center; justify-content: space-between; ":""}),(function(e){return e.center?"text-align: center;":""})),Le=ke,Pe=function(e){var t=e.shape,n={src:e.src,size:e.size};return"circle"===t?Object(we.jsx)(Ue,Object(U.a)({},n)):"rectangle"===t?Object(we.jsx)(Be,{children:Object(we.jsx)(De,Object(U.a)({},n))}):Object(we.jsx)(r.a.Fragment,{children:Object(we.jsx)(Ie,Object(U.a)({},n))})};Pe.defaultProps={shape:"circle",src:"https://media.vlpt.us/images/tjdlas2412/profile/02965453-0245-406c-89f2-e0fd641b593d/1493179370111.jpeg?w=240",size:36};var Ne,Ie=ye.a.div(Ae||(Ae=Object(Ee.a)(["\n  --size: ",'px;\n  width: var(--size);\n  height: var(--size);\n  background-image: url("','");\n  background-size: cover;\n'])),(function(e){return e.size}),(function(e){return e.src})),Be=ye.a.div(ze||(ze=Object(Ee.a)(["\n    width: 100%;\n    \n"]))),De=ye.a.div(Te||(Te=Object(Ee.a)(['\n    position: relative;\n    padding-top: 70%;\n    overflow: hidden;\n    background-image: url("','");\n    background-size: cover;\n    background-repeat: no-repeat;\n'])),(function(e){return e.src})),Ue=ye.a.div(Fe||(Fe=Object(Ee.a)(["\n    --size: ",'px;\n    width: var(--size);\n    height: var(--size);\n    border-radius: var(--size);\n\n    background-image: url("','");\n    background-size: cover;\n    margin: 4px;\n'])),(function(e){return e.size}),(function(e){return e.src})),Ve=Pe,Xe=function(e){var t=e.bold,n=e.color,i=e.size,r=e.children,a={bold:t,color:n,size:i,margin:e.margin};return Object(we.jsx)(Me,Object(U.a)(Object(U.a)({},a),{},{children:r}))};Xe.defaultProps={children:null,bold:!1,color:"#222831",size:"18px",margin:!1};var Ge,Ke,Me=ye.a.p(Ne||(Ne=Object(Ee.a)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  ","\n"])),(function(e){return e.color}),(function(e){return e.size}),(function(e){return e.bold?"600":"400"}),(function(e){return e.margin?"margin: ".concat(e.margin,";"):""})),qe=Xe,Ye=function(e){var t=e.label,n=e.placeholder,i=e._onChange,a=e.type,c=e.multiLine,o=e.value,s=e.is_submit,u=e.onSubmit;return c?Object(we.jsxs)(Le,{children:[t&&Object(we.jsx)(qe,{margin:"0px",children:t}),Object(we.jsx)(We,{rows:10,value:o,placeholder:n,onChange:i})]}):Object(we.jsx)(r.a.Fragment,{children:Object(we.jsxs)(Le,{children:[t&&Object(we.jsx)(qe,{margin:"0px",children:t}),s?Object(we.jsx)(Je,{type:a,placeholder:n,onChange:i,value:o,onKeyPress:function(e){"Enter"===e.key&&u(e)}}):Object(we.jsx)(Je,{type:a,placeholder:n,onChange:i})]})})};Ye.defaultProps={multiLine:!1,label:!1,placeholder:"\ud14d\uc2a4\ud2b8\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",type:"text",value:"",is_submit:!1,onSubmit:function(){},_onChange:function(){}};var Re,He,We=ye.a.textarea(Ge||(Ge=Object(Ee.a)(["\n  border: 1px solid #212121;\n  width: 100%;\n  padding: 12px 4px;\n  box-sizing: border-box;\n"]))),Je=ye.a.input(Ke||(Ke=Object(Ee.a)(["\n  border: 1px solid #212121;\n  width: 100%;\n  padding: 12px 4px;\n  box-sizing: border-box;\n"]))),Ze=Ye,Qe=function(e){var t=e.text,n=e._onClick,i=e.is_float,a=e.children,c=e.margin,o=e.width,s=e.padding;if(i)return Object(we.jsx)(r.a.Fragment,{children:Object(we.jsx)(nt,{onClick:n,children:t||a})});var u={margin:c,width:o,padding:s};return Object(we.jsx)(r.a.Fragment,{children:Object(we.jsx)(tt,Object(U.a)(Object(U.a)({},u),{},{onClick:n,children:t||a}))})};Qe.defaultProps={text:!1,children:null,_onClick:function(){},is_float:!1,margin:!1,width:"80%",padding:"12px 0px"};var $e,et,tt=ye.a.button(Re||(Re=Object(Ee.a)(["\n  width: ",";\n  background-color: #212121;\n  color: #ffffff;\n  padding: ",";\n  box-sizing: border-box;\n  border: none;\n  ","\n"])),(function(e){return e.width}),(function(e){return e.padding}),(function(e){return e.margin?"margin: ".concat(e.margin,";"):""})),nt=ye.a.button(He||(He=Object(Ee.a)(["\n  width: 50px;\n  height: 50px;\n  background-color: #212121;\n  color: #ffffff;\n  box-sizing: border-box;\n  font-size: 36px;\n  font-weight: 800;\n  position: fixed;\n  bottom: 50px;\n  right: 16px;\n  text-align: center;\n  vertical-align: middle;\n  border: none;\n  border-radius: 50px;\n"]))),it=Qe,rt=function(e){var t=e.type,n=e.size,i=e.is_dim;return Object(we.jsx)(r.a.Fragment,{children:Object(we.jsx)(at,{type:t,is_dim:i,children:Object(we.jsx)(ct,{size:n})})})};rt.defaultProps={type:"inline",is_dim:!1,size:60};var at=ye.a.div($e||($e=Object(Ee.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px 0;\n  ","\n  ","\n"])),(function(e){return"page"===e.type?"position: fixed;\n        height: 95vh;\n        top: 0;\n        left: 0;\n        padding: 0;\n        zIndex: 9999;":""}),(function(e){return e.is_dim?"\n     background: rgba(0,0,0,0.4); \n     height: 100vh;\n  ":""})),ct=ye.a.div(et||(et=Object(Ee.a)(["\n  --size: ","px;\n  width: var(--size);\n  height: var(--size);\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' style='margin: auto; background: none; display: block; shape-rendering: auto;' width='200px' height='200px' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid'%3E%3Cg transform='rotate(0 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.9166666666666666s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(30 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.8333333333333334s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(60 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.75s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(90 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.6666666666666666s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(120 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.5833333333333334s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(150 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.5s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(180 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.4166666666666667s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(210 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.3333333333333333s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(240 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.25s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(270 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.16666666666666666s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(300 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.08333333333333333s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(330 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='0s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3C/svg%3E\");\n  background-size: var(--size);\n"],["\n  --size: ","px;\n  width: var(--size);\n  height: var(--size);\n  background-image: url(\\\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' style='margin: auto; background: none; display: block; shape-rendering: auto;' width='200px' height='200px' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid'%3E%3Cg transform='rotate(0 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.9166666666666666s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(30 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.8333333333333334s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(60 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.75s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(90 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.6666666666666666s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(120 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.5833333333333334s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(150 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.5s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(180 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.4166666666666667s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(210 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.3333333333333333s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(240 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.25s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(270 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.16666666666666666s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(300 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='-0.08333333333333333s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3Cg transform='rotate(330 50 50)'%3E%3Crect x='47' y='24' rx='3' ry='3.36' width='6' height='12' fill='%23222222'%3E%3Canimate attributeName='opacity' values='1;0' keyTimes='0;1' dur='1s' begin='0s' repeatCount='indefinite'%3E%3C/animate%3E%3C/rect%3E%3C/g%3E%3C/svg%3E\\\");\n  background-size: var(--size);\n"])),(function(e){return e.size})),ot=rt,st=n(14),ut=n(107),lt=n(65),dt=n.n(lt),bt=function(e){var t=r.a.useState(!0),n=Object(st.a)(t,2),i=n[0],a=n[1],c=Object(ve.e)((function(e){return e.user.user.uid}));return r.a.useEffect((function(){var e=k.ref("noti/".concat(c));return e.on("value",(function(e){console.log(e.val()),a(e.val().read)})),function(){return e.off()}}),[]),Object(we.jsx)(r.a.Fragment,{children:Object(we.jsx)(ut.a,{color:"secondary",variant:"dot",invisible:i,onClick:function(){k.ref("noti/".concat(c)).update({read:!0}),e._onClick()},children:Object(we.jsx)(dt.a,{})})})};bt.defaultProps={_onClick:function(){}};var ft=bt,jt=function(e){var t,n=Object(ve.d)(),i=Object(ve.e)((function(e){return e.user.is_login})),a="firebase:authUser:".concat(v,":[DEFAULT]"),c=!!sessionStorage.getItem(a);return console.log(c),i&&c?Object(we.jsx)(r.a.Fragment,{children:Object(we.jsxs)(Le,{is_flex:!0,padding:"4px 16px",children:[Object(we.jsx)(Le,{children:Object(we.jsx)(it,(t={size:"24px",bold:!0,_onClick:function(){xe.push("/")}},Object(b.a)(t,"bold",!0),Object(b.a)(t,"children","\ub098\ub9cc\uc758 \ub9e4\uac70\uc9c4"),t))}),Object(we.jsxs)(Le,{is_flex:!0,children:[Object(we.jsx)(it,{text:"\ub0b4\uc815\ubcf4"}),Object(we.jsx)(ft,{_onClick:function(){xe.push("/noti")}}),Object(we.jsx)(it,{text:"\ub85c\uadf8\uc544\uc6c3",_onClick:function(){n(B())}})]})]})}):Object(we.jsx)(r.a.Fragment,{children:Object(we.jsxs)(Le,{is_flex:!0,padding:"4px 16px",children:[Object(we.jsx)(Le,{children:Object(we.jsx)(it,{size:"24px",bold:!0,_onClick:function(){xe.push("/")},children:"\ub098\ub9cc\uc758 \ub9e4\uac70\uc9c4"})}),Object(we.jsxs)(Le,{is_flex:!0,children:[Object(we.jsx)(it,{text:"\ub85c\uadf8\uc778",_onClick:function(){xe.push("/login")}}),Object(we.jsx)(it,{text:"\ud68c\uc6d0\uac00\uc785",_onClick:function(){xe.push("/signup")}})]})]})})};jt.defaultProps={};var pt,gt,ht=jt,xt=n.p+"static/media/heart.556c78a5.png",mt=ye.a.div(pt||(pt=Object(Ee.a)(["\n  width: 30px;\n  height: 30px;\n  display: flex;\n  background: url(",");\n  background-size: cover;\n  cursor: pointer;\n"])),(function(e){return e.icon_url})),Ot=function(e){var t=e.is_like?xt:"data:image/png;base64,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";return Object(we.jsx)(r.a.Fragment,{children:Object(we.jsx)(mt,{onClick:e._onClick,icon_url:t})})},_t=function(e){var t=Object(ve.d)();return Object(we.jsxs)(r.a.Fragment,{children:[Object(we.jsxs)(Le,{children:[Object(we.jsxs)(Le,{is_flex:!0,padding:"16px",children:[Object(we.jsxs)(Ct,{is_flex:!0,width:"auto",children:[Object(we.jsx)(Ve,{shape:"circle",src:e.src}),Object(we.jsx)(qe,{bold:!0,children:e.user_info.user_name})]}),Object(we.jsxs)(Ct,{children:[Object(we.jsx)(qe,{children:e.insert_dt}),e.is_me&&Object(we.jsx)(it,{width:"50px",margin:"4px",padding:"4px",_onClick:function(){xe.push("/write/".concat(e.id))},children:"\uc218\uc815"})]})]}),"a"===e.layout_type&&Object(we.jsxs)(r.a.Fragment,{children:[Object(we.jsx)(Le,{padding:"16px",children:Object(we.jsx)(qe,{children:e.contents})}),Object(we.jsx)(Le,{children:Object(we.jsx)(Ve,{shape:"rectangle",src:e.image_url})})]}),"b"===e.layout_type&&Object(we.jsx)(r.a.Fragment,{children:Object(we.jsxs)(Le,{is_flex:!0,children:[Object(we.jsx)(Le,{width:"50%",padding:"16px",children:Object(we.jsx)(qe,{children:e.contents})}),Object(we.jsx)(Ve,{shape:"rectangle",src:e.image_url})]})}),"c"===e.layout_type&&Object(we.jsx)(r.a.Fragment,{children:Object(we.jsxs)(Le,{is_flex:!0,children:[Object(we.jsx)(Ve,{shape:"rectangle",src:e.image_url}),Object(we.jsx)(Le,{width:"50%",padding:"16px",children:Object(we.jsx)(qe,{children:e.contents})})]})})]}),Object(we.jsxs)(Le,{is_flex:!0,padding:"16px",children:[Object(we.jsxs)(qe,{margin:"0px",bold:!0,children:["\uc88b\uc544\uc694 ",e.like_cnt,"\uac1c  \ub313\uae00 ",e.comment_cnt,"\uac1c"]}),Object(we.jsx)(Ot,{_onClick:function(n){n.preventDefault(),n.stopPropagation(),t(ue.toggleLikeFB(e.id))},is_like:e.is_like})]})]})},Ct=ye.a.div(gt||(gt=Object(Ee.a)(["\n  display: flex;\n  height: 40px;\n  align-items: center;\n  justify-content: center;\n"])));_t.defaultProps={user_info:{user_name:"",user_profile:"https://likerdo-bucket-list.s3.ap-northeast-2.amazonaws.com/yui.jpg"},image_url:"https://likerdo-bucket-list.s3.ap-northeast-2.amazonaws.com/yui.jpg",contents:"\uace0\uc591\uc774\ub124\uc694!",comment_cnt:10,like_cnt:0,layout_type:"a",insert_dt:"2021-02-27 10:00:00",is_me:!1,is_like:!1};var vt=_t,Et=n(39),yt=n.n(Et),wt=function(e){e.children;var t=e.callNext,n=e.is_next,i=e.loading,a=yt.a.throttle((function(){if(!i){var e=window.innerHeight;document.body.scrollHeight-e-(document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)<200&&t()}}),300),c=r.a.useCallback(a,[i]);return r.a.useEffect((function(){if(!i)return n?window.addEventListener("scroll",c):window.removeEventListener("scroll",c),function(){return window.removeEventListener("scroll",c)}}),[n,i]),Object(we.jsxs)(r.a.Fragment,{children:[e.children,n&&Object(we.jsx)(ot,{})]})};wt.defaultProps={children:null,callNext:function(){},is_next:!1,loading:!1};var kt=wt,At=function(e){var t=Object(ve.d)(),n=Object(ve.e)((function(e){return e.post.list})),i=Object(ve.e)((function(e){return e.user.user})),a=Object(ve.e)((function(e){return e.post.is_loading})),c=Object(ve.e)((function(e){return e.post.paging})),o=e.history;return r.a.useEffect((function(){n.length<2&&t(ue.getPostFB())}),[]),Object(we.jsx)(r.a.Fragment,{children:Object(we.jsx)(Le,{bg:"#E9E4F0",padding:"20px 0px",children:Object(we.jsx)(kt,{callNext:function(){t(ue.getPostFB(c.next))},is_next:!!c.next,loading:a,children:n.map((function(e,t){return e.user_info.user_id===(null===i||void 0===i?void 0:i.uid)?Object(we.jsx)(Le,{bg:"#ffffff",margin:"8px 0px",_onClick:function(){o.push("/post/".concat(e.id))},children:Object(we.jsx)(vt,Object(U.a)(Object(U.a)({},e),{},{is_me:!0}),e.id)},e.id):Object(we.jsx)(Le,{bg:"#ffffff",_onClick:function(){o.push("/post/".concat(e.id))},children:Object(we.jsx)(vt,Object(U.a)({},e))},e.id)}))})})})},zt=function(e){return/^[0-9a-zA-Z]([-_.0-9a-zA-Z])*@[0-9a-zA-Z]([-_.0-9a-zA-z])*.([a-zA-Z])*/.test(e)},Tt=function(e){var t=Object(ve.d)(),n=r.a.useState(""),i=Object(st.a)(n,2),a=i[0],c=i[1],o=r.a.useState(""),s=Object(st.a)(o,2),u=s[0],l=s[1],d=function(){console.log(a),""!==a&&""!==u?zt(a)?t(N(a,u)):window.alert("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4!"):window.alert("\uc544\uc774\ub514 \ud639\uc740 \ube44\ubc00\ubc88\ud638\uac00 \uacf5\ub780\uc785\ub2c8\ub2e4! \uc785\ub825\ud574\uc8fc\uc138\uc694!")};return Object(we.jsx)(r.a.Fragment,{children:Object(we.jsxs)(Le,{padding:"16px",children:[Object(we.jsx)(qe,{size:"32px",bold:!0,children:"\ub85c\uadf8\uc778"}),Object(we.jsx)(Le,{padding:"16px 0px",children:Object(we.jsx)(Ze,{label:"\uc544\uc774\ub514",placeholder:"\uc544\uc774\ub514\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",_onChange:function(e){c(e.target.value)}})}),Object(we.jsx)(Le,{padding:"16px 0px",children:Object(we.jsx)(Ze,{label:"\ud328\uc2a4\uc6cc\ub4dc",placeholder:"\ud328\uc2a4\uc6cc\ub4dc \uc785\ub825\ud574\uc8fc\uc138\uc694.",type:"password",_onChange:function(e){l(e.target.value)},value:u,is_submit:!0,onSubmit:d})}),Object(we.jsx)(it,{text:"\ub85c\uadf8\uc778\ud558\uae30",_onClick:function(){console.log("\ub85c\uadf8\uc778 \ud588\uc5b4!"),d()}})]})})},Ft=function(e){var t=Object(ve.d)(),n=r.a.useState(""),i=Object(st.a)(n,2),a=i[0],c=i[1],o=r.a.useState(""),s=Object(st.a)(o,2),u=s[0],l=s[1],d=r.a.useState(""),b=Object(st.a)(d,2),f=b[0],j=b[1],p=r.a.useState(""),g=Object(st.a)(p,2),h=g[0],x=g[1];return Object(we.jsx)(r.a.Fragment,{children:Object(we.jsxs)(Le,{padding:"16px",children:[Object(we.jsx)(qe,{size:"32px",bold:!0,children:"\ud68c\uc6d0\uac00\uc785"}),Object(we.jsx)(Le,{padding:"16px 0px",children:Object(we.jsx)(Ze,{label:"\uc544\uc774\ub514",placeholder:"\uc544\uc774\ub514\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",_onChange:function(e){c(e.target.value)}})}),Object(we.jsx)(Le,{padding:"16px 0px",children:Object(we.jsx)(Ze,{label:"\ub2c9\ub124\uc784",placeholder:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",_onChange:function(e){x(e.target.value)}})}),Object(we.jsx)(Le,{padding:"16px 0px",children:Object(we.jsx)(Ze,{label:"\ube44\ubc00\ubc88\ud638",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",_onChange:function(e){l(e.target.value)}})}),Object(we.jsx)(Le,{padding:"16px 0px",children:Object(we.jsx)(Ze,{label:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \ub2e4\uc2dc \uc785\ub825\ud574\uc8fc\uc138\uc694.",_onChange:function(e){j(e.target.value)}})}),Object(we.jsx)(it,{text:"\ud68c\uc6d0\uac00\uc785\ud558\uae30",_onClick:function(){""!==a&&""!==u&&""!==h?zt(a)?u===f?t(P(a,u,h)):window.alert("\ud328\uc2a4\uc6cc\ub4dc\uc640 \ud328\uc2a4\uc6cc\ub4dc \ud655\uc778\uc774 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4!"):window.alert("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4!"):window.alert("\uc544\uc774\ub514, \ud328\uc2a4\uc6cc\ub4dc, \ub2c9\ub124\uc784\uc744 \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694!")}})]})})};Ft.defaultProps={};var St=Ft,Lt=function(e){var t=Object(ve.d)(),n=Object(ve.e)((function(e){return e.image.uploading})),i=r.a.useRef();return Object(we.jsx)(r.a.Fragment,{children:Object(we.jsx)("input",{type:"file",onChange:function(e){console.log(e),console.log(e.target),console.log(e.target.files[0]),console.log(i.current.files[0]);var n=new FileReader,r=i.current.files[0];n.readAsDataURL(r),n.onloadend=function(){console.log(n.result),t(W.setPreview(n.result))}},ref:i,disabled:n})})},Pt=function(e){var t=Object(ve.d)(),n=Object(ve.e)((function(e){return e.user.is_login})),i=Object(ve.e)((function(e){return e.image.preview})),a=Object(ve.e)((function(e){return e.post.list})),c=e.match.params.id,o=!!c,s=e.history,u=o?a.find((function(e){return e.id===c})):null,l=r.a.useState(u?u.contents:""),d=Object(st.a)(l,2),b=d[0],f=d[1],j=r.a.useState(u?u.layout_type:""),p=Object(st.a)(j,2),g=p[0],h=p[1];r.a.useEffect((function(){if(o&&!u)return console.log("\ud3ec\uc2a4\ud2b8 \uc815\ubcf4\uac00 \uc5c6\uc5b4\uc694!"),window.alert("\ud3ec\uc2a4\ud2b8!"),void s.goBack();o&&t(W.setPreview(u.image_url))}),[]);return n?Object(we.jsxs)(r.a.Fragment,{children:[Object(we.jsxs)(Le,{padding:"16px",children:[Object(we.jsx)(qe,{margin:"0px",size:"36px",bold:"bold",children:o?"\uac8c\uc2dc\uae00 \uc218\uc815":"\uac8c\uc2dc\uae00 \uc791\uc131"}),Object(we.jsx)(Lt,{})]}),Object(we.jsxs)(Le,{children:[Object(we.jsx)(Le,{padding:"16px",children:Object(we.jsx)(qe,{margin:"0px",size:"24px",bold:"bold",children:"\ubbf8\ub9ac\ubcf4\uae30"})}),Object(we.jsx)(Ve,{shape:"rectangle",src:i||"http://via.placeholder.com/400x300"})]}),Object(we.jsx)(Le,{padding:"16px",children:Object(we.jsxs)("select",{onChange:function(e){h(e.target.value)},class:"form-select","aria-label":"Default select example",children:[Object(we.jsx)("option",{selected:"selected",children:"\ub808\uc774\uc544\uc6c3\uc744 \uace8\ub77c\uc8fc\uc138\uc694"}),Object(we.jsx)("option",{value:"a",children:"A\ud0c0\uc785"}),Object(we.jsx)("option",{value:"b",children:"B\ud0c0\uc785"}),Object(we.jsx)("option",{value:"c",children:"C\ud0c0\uc785"})]})}),Object(we.jsx)(Le,{padding:"16px",children:Object(we.jsx)(Ze,{value:b,_onChange:function(e){f(e.target.value)},label:"\uac8c\uc2dc\uae00 \ub0b4\uc6a9",placeholder:"\uac8c\uc2dc\uae00 \uc791\uc131",multiLine:"multiLine"})}),Object(we.jsx)(Le,{padding:"16px",children:o?Object(we.jsx)(it,{text:"\uac8c\uc2dc\uae00 \uc218\uc815",_onClick:function(){t(ue.editPostFB(c,{contents:b}))}}):Object(we.jsx)(it,{text:"\uac8c\uc2dc\uae00 \uc791\uc131",_onClick:function(){t(ue.addPostFB(b,g))}})})]}):Object(we.jsxs)(Le,{margin:"100px 0px",padding:"16px",center:"center",children:[Object(we.jsx)(qe,{size:"32px",bold:"bold",children:"\uc557! \uc7a0\uae50!"}),Object(we.jsx)(qe,{size:"16px",children:"\ub85c\uadf8\uc778 \ud6c4\uc5d0\ub9cc \uae00\uc744 \uc4f8 \uc218 \uc788\uc5b4\uc694!"}),Object(we.jsx)(it,{_onClick:function(){s.replace("/")},children:"\ub85c\uadf8\uc778 \ud558\ub7ec\uac00\uae30"})]})},Nt=function(e){var t=Object(ve.d)(),n=Object(ve.e)((function(e){return e.comment.list})),i=e.post_id;return r.a.useEffect((function(){n[i]||t(ge(i))}),[]),n[i]&&i?Object(we.jsx)(r.a.Fragment,{children:Object(we.jsx)(Le,{padding:"16px",children:n[i].map((function(e){return Object(we.jsx)(Bt,Object(U.a)({},e),e.id)}))})}):null};Nt.defaultProps={post_id:null};var It=Nt,Bt=function(e){e.user_profile;var t=e.user_name,n=(e.user_id,e.post_id,e.contents),i=e.insert_dt;return Object(we.jsxs)(Le,{is_flex:!0,children:[Object(we.jsxs)(Le,{is_flex:!0,width:"auto",children:[Object(we.jsx)(Ve,{shape:"circle"}),Object(we.jsx)(qe,{bold:!0,children:t})]}),Object(we.jsxs)(Le,{is_flex:!0,margin:"0px 4px",children:[Object(we.jsx)(qe,{margin:"0px",children:n}),Object(we.jsx)(qe,{margin:"0px",children:i})]})]})};Bt.defaultProps={user_profile:"",user_name:"SungMin",user_id:"",post_id:1,contents:"\ub9ac\uc561\ud2b8!",insert_dt:"2021-01-01 19:00:00"};var Dt=function(e){var t=Object(ve.d)(),n=r.a.useState(),i=Object(st.a)(n,2),a=i[0],c=i[1],o=e.post_id,s=function(){t(he(o,a)),c("")};return Object(we.jsx)(r.a.Fragment,{children:Object(we.jsxs)(Le,{padding:"16px",is_flex:!0,children:[Object(we.jsx)(Ze,{placeholder:"\ub313\uae00 \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694 :)",_onChange:function(e){c(e.target.value)},value:a,onSubmit:s,is_submit:!0}),Object(we.jsx)(it,{width:"50px",margin:"0px 2px 0px 2px",_onClick:s,children:"\uc791\uc131"})]})})},Ut=function(e){var t=Object(ve.e)((function(e){return e.user.is_login})),n="firebase:authUser:".concat(v,":[DEFAULT]");return!!sessionStorage.getItem(n)&&t?Object(we.jsx)(r.a.Fragment,{children:e.children}):null},Vt=function(e){var t=Object(ve.d)(),n=e.match.params.id,i=Object(ve.e)((function(e){return e.user.user})),a=Object(ve.e)((function(e){return e.post.list})),c=a.findIndex((function(e){return e.id===n})),o=a[c];return r.a.useEffect((function(){o||t(ue.getOnePostFB(n))}),[]),Object(we.jsxs)(r.a.Fragment,{children:[o&&Object(we.jsx)(vt,Object(U.a)(Object(U.a)({},o),{},{is_me:o.user_info.user_id===(null===i||void 0===i?void 0:i.uid)})),Object(we.jsx)(Ut,{children:Object(we.jsx)(Dt,{post_id:n})}),Object(we.jsx)(It,{post_id:n})]})},Xt=function(){var e=r.a.useState(""),t=Object(st.a)(e,2),n=t[0],i=t[1],a=yt.a.debounce((function(e){console.log("debounce ::: ",e.target.value)}),1e3),c=(yt.a.throttle((function(e){console.log("throttle ::: ",e.target.value)}),1e3),r.a.useCallback(a,[]));return Object(we.jsx)("div",{children:Object(we.jsx)("input",{type:"text",onChange:function(e){i(e.target.value),c(e)},value:n})})},Gt=function(e){var t=e.image_url,n=e.user_name,i=e.post_id;return Object(we.jsxs)(Le,{_onClick:function(){xe.push("/post/".concat(i))},padding:"16px",is_flex:!0,bg:"#ffffff",margin:"8px 0px",children:[Object(we.jsx)(Le,{width:"auto",margin:"0px 8px 0px 0px",children:Object(we.jsx)(Ve,{size:85,shape:"square",src:t})}),Object(we.jsx)(Le,{children:Object(we.jsxs)(qe,{children:[Object(we.jsx)("b",{children:n}),"\ub2d8\uc774 \uac8c\uc2dc\uae00\uc5d0 \ub313\uae00\uc744 \ub0a8\uacbc\uc2b5\ub2c8\ub2e4 :)!"]})})]})};Gt.defaultProps={image_url:"",user_name:"",post_id:null};var Kt=Gt,Mt=function(e){var t=Object(ve.e)((function(e){return e.user.user})),n=r.a.useState([]),i=Object(st.a)(n,2),a=i[0],c=i[1];return r.a.useEffect((function(){t&&k.ref("noti/".concat(t.uid,"/list")).orderByChild("insert_dt").once("value",(function(e){if(e.exists()){var t=e.val(),n=Object.keys(t).reverse().map((function(e){return t[e]}));console.log(n),c(n)}}))}),[t]),Object(we.jsx)(r.a.Fragment,{children:Object(we.jsx)(Le,{padding:"16px",bg:"#EFF6FF",children:a.map((function(e,t){return Object(we.jsx)(Kt,Object(U.a)({},e),"noti_".concat(t))}))})})};var qt=function(){var e=Object(ve.d)(),t="firebase:authUser:".concat(v,":[DEFAULT]"),n=!!sessionStorage.getItem(t);return r.a.useEffect((function(){n&&e(I())}),[]),Object(we.jsxs)(r.a.Fragment,{children:[Object(we.jsxs)(Le,{children:[Object(we.jsx)(ht,{}),Object(we.jsxs)(s.a,{history:xe,children:[Object(we.jsx)(o.a,{path:"/",exact:!0,component:At}),Object(we.jsx)(o.a,{path:"/login",exact:!0,component:Tt}),Object(we.jsx)(o.a,{path:"/signup",exact:!0,component:St}),Object(we.jsx)(o.a,{path:"/write",exact:!0,component:Pt}),Object(we.jsx)(o.a,{path:"/write/:id",exact:!0,component:Pt}),Object(we.jsx)(o.a,{path:"/post/:id",exact:!0,component:Vt}),Object(we.jsx)(o.a,{path:"/search",exact:!0,component:Xt}),Object(we.jsx)(o.a,{path:"/noti",exact:!0,component:Mt})]})]}),Object(we.jsx)(Ut,{children:Object(we.jsx)(it,{is_float:!0,text:"+",_onClick:function(){xe.push("/write")}})})]})},Yt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,110)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),i(e),r(e),a(e),c(e)}))};c.a.render(Object(we.jsx)(ve.a,{store:Ce,children:Object(we.jsx)(qt,{})}),document.getElementById("root")),Yt()}},[[89,1,2]]]);
//# sourceMappingURL=main.171dfca8.chunk.js.map